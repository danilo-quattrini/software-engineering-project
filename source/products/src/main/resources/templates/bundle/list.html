<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{product/components/head :: head('Marketplace')}"></head>
<body class="bg-gray-50">
<div th:replace="~{product/components/navbar/navigation-bar :: navigation(${user.getSimpleRole()})}"></div>
<section class="py-8 antialiased md:py-12">
    <div class="mx-auto max-w-screen-xl px-4 2xl:px-0">
        <div th:replace="~{product/components/navbar/marketplace-links :: nav}"></div>

        <!--PRODUCT SECTION-->
        <div th:if="${user.getSimpleRole() != 'DISTRIBUTOR'}" class="space-y-2">
            <h1 class="text-5xl text-black font-bold">Bundle</h1>
        </div>
        <div th:if="${user.getSimpleRole() == 'DISTRIBUTOR'}" class="space-y-2">
            <h1 class="text-5xl text-black font-bold">Bundle Dashboard</h1>
        </div>


        <hr class="my-5 w-[500px] text-white"/>
        <div class="mb-4 grid gap-4 sm:grid-cols-2 md:mb-8 lg:grid-cols-3 xl:grid-cols-4">
            <div th:each="b : ${bundle}" th:object="${b}"
                 class="rounded-lg border border-gray-200 bg-white p-6 shadow-sm">

                <!-- PRODUCT IMAGE -->
                <div th:replace="~{product/components/card/card-image :: card-image}"></div>

                <!-- PRODUCT BODY -->
                <div class="pt-6">
                    <div class="flex items-start justify-between gap-2">
                        <a th:text="*{name}" th:href="@{/bundle/{id}(id=*{id})}"
                           class="text-lg font-semibold leading-tight text-gray-900 hover:underline"></a>
                    </div>

                    <div class="flex-1 py-2 text-2xl">
                        <p th:text="*{price + ' â‚¬'}" class="text-2xl font-extrabold leading-tight text-gray-900">
                            1.699$</p>
                    </div>
                    <div th:if="${user.getSimpleRole() == 'DISTRIBUTOR'}"
                         class="flex flex-1 space-x-2">
                        <!--Delete From-->
                        <form th:action="@{/bundle/{id}(id=*{id})}" th:method="delete">
                            <input type="submit"
                                   class="inline-flex items-center rounded-lg px-5 py-2.5 text-sm font-medium focus:outline-none focus:ring-4 cursor-pointer transition-colors duration-300 bg-red-700 text-white hover:bg-red-800 focus:ring-red-300"
                                   value="Delete"/>
                        </form>
                    </div>

                    <!-- ADD TO CART -->
                    <div th:if="${user.getSimpleRole()} == 'BUYER'" class="flex float-start">
                        <form th:action="@{cart/bundle/{id}(id=*{id})}" th:method="POST">
                            <button type="submit"
                                    class="inline-flex items-center rounded-lg px-5 py-2.5 text-sm focus:outline-none focus:ring-4 font-medium bg-blue-700 text-white hover:bg-blue-800 focus:ring-blue-300 transition-colors duration-300">
                                <svg class="-ms-2 me-2 h-5 w-5" aria-hidden="true"
                                     xmlns="http://www.w3.org/2000/svg"
                                     width="24" height="24" fill="none" viewBox="0 0 24 24">
                                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
                                          stroke-width="2"
                                          d="M4 4h1.5L8 16m0 0h8m-8 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm8 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm.75-3H7.5M11 7H6.312M17 4v6m-3-3h6"/>
                                </svg>
                                Add to cart
                            </button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <div th:if="${user.getSimpleRole() == 'DISTRIBUTOR'}" class="w-full text-center my-2">
            <a th:replace="~{product/components/form/button :: button('Create Bundle', '/bundle/create', 'blue')}"> </a>
        </div>
    </div>
</section>
</body>
</html>